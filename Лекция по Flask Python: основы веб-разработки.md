# –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ Flask –∏ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ 2 –∫—É—Ä—Å–∞

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ: –ü–æ—á–µ–º—É –º—ã –∏–∑—É—á–∞–µ–º –∏–º–µ–Ω–Ω–æ Flask?

**Flask** –±—ã–ª –≤—ã–±—Ä–∞–Ω –¥–ª—è –Ω–∞—à–µ–≥–æ –∫—É—Ä—Å–∞ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –ø–æ—á–µ–º—É:

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏:

**Django** - —ç—Ç–æ "—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –±–∞—Ç–∞—Ä–µ–π–∫–∞–º–∏":
- –ú–Ω–æ–≥–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∞–¥–º–∏–Ω–∫–∞, ORM, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- –ñ–µ—Å—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ë–æ–ª—å—à–µ –º–∞–≥–∏–∏ - –º–µ–Ω—å—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º"

**Flask** - –º–∏–∫—Ä–æ—Ñ—Ä–µ–π–º–≤–æ—Ä–∫:
- –¢–æ–ª—å–∫–æ —Å–∞–º–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ
- –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - –≤—ã —Å–∞–º–∏ —Ä–µ—à–∞–µ—Ç–µ –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥
- –ü–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - –≤–∏–¥–Ω–æ –∫–∞–∫ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ê–Ω–∞–ª–æ–≥–∏—è**: 
- Django - —ç—Ç–æ –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- Flask - —ç—Ç–æ –Ω–∞–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —Å–∞–º–∏ —Å–æ–±–∏—Ä–∞–µ—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

---

## üåê –ß–∞—Å—Ç—å 1: –û—Å–Ω–æ–≤—ã –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ?

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ —à–∞–≥–∞–º:

1. **DNS –∑–∞–ø—Ä–æ—Å** - –±—Ä–∞—É–∑–µ—Ä —É–∑–Ω–∞–µ—Ç IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
2. **TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
3. **HTTP –∑–∞–ø—Ä–æ—Å** - –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:
```http
GET /index.html HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0...
Accept: text/html
```
4. **–°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å** - –Ω–∞—à–∞ Flask-–ø—Ä–æ–≥—Ä–∞–º–º–∞
5. **HTTP –æ—Ç–≤–µ—Ç** - —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:
```http
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 1256

<!DOCTYPE html><html>...
```
6. **–ë—Ä–∞—É–∑–µ—Ä —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ü–æ—á–µ–º—É HTTP —Ç–∞–∫ –≤–∞–∂–µ–Ω?

**HTTP (HyperText Transfer Protocol)** - —ç—Ç–æ —è–∑—ã–∫ –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —á—Ç–æ —ç—Ç–æ –¥–∏–∞–ª–æ–≥:

**–ë—Ä–∞—É–∑–µ—Ä**: "–ü—Ä–∏–≤–µ—Ç! –î–∞–π –º–Ω–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É" (GET –∑–∞–ø—Ä–æ—Å)
**–°–µ—Ä–≤–µ—Ä**: "–í–æ—Ç, –¥–µ—Ä–∂–∏ HTML –∫–æ–¥" (200 OK –æ—Ç–≤–µ—Ç)

**–ë—Ä–∞—É–∑–µ—Ä**: "–•–æ—á—É –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –≤–æ—Ç –º–æ–∏ –¥–∞–Ω–Ω—ã–µ" (POST –∑–∞–ø—Ä–æ—Å)  
**–°–µ—Ä–≤–µ—Ä**: "–û–∫, —Å–æ–∑–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" (201 Created –æ—Ç–≤–µ—Ç)

**–ë—Ä–∞—É–∑–µ—Ä**: "–î–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç"  
**–°–µ—Ä–≤–µ—Ä**: "–¢–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ—Ç" (404 Not Found)

### –ú–µ—Ç–æ–¥—ã HTTP - —á—Ç–æ –æ–Ω–∏ –æ–∑–Ω–∞—á–∞—é—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:

- **GET** - "–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ-—Ç–æ" (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è)
- **POST** - "—Å–æ–∑–¥–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ" 
- **PUT** - "–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–∏—Ç—å —á—Ç–æ-—Ç–æ"
- **PATCH** - "—á–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —á—Ç–æ-—Ç–æ"
- **DELETE** - "—É–¥–∞–ª–∏—Ç—å —á—Ç–æ-—Ç–æ"

**–í–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: GET –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

---

## üîß –ß–∞—Å—Ç—å 2: –ü–µ—Ä–≤–æ–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - —Ä–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É:

```python
from flask import Flask

app = Flask(__name__)
# –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
# 1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å Flask
# 2. –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# 3. __name__ - —ç—Ç–æ –∏–º—è —Ç–µ–∫—É—â–µ–≥–æ –º–æ–¥—É–ª—è
#    Flask –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —à–∞–±–ª–æ–Ω—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

@app.route('/')
def hello():
    return 'Hello, World!'

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä @app.route - —ç—Ç–æ –º–∞–≥–∏—è Python!
# –ü–æ —Å—É—Ç–∏ —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é
# –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–π –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

if __name__ == '__main__':
    app.run(debug=True)
    # debug=True –≤–∫–ª—é—á–∞–µ—Ç:
    # - –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
    # - –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    # - –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º (–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä? –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:

```python
# –ë–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:
def hello():
    return 'Hello, World!'

hello = app.route('/')(hello)

# –° –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º (—Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –∫—Ä–∞—Å–∏–≤–µ–µ):
@app.route('/')
def hello():
    return 'Hello, World!'
```

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç" –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é, –¥–æ–±–∞–≤–ª—è—è –µ–π –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

---

## üó∫Ô∏è –ß–∞—Å—Ç—å 3: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è - "–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - —ç—Ç–æ –≥–æ—Ä–æ–¥, –∞ –º–∞—Ä—à—Ä—É—Ç—ã - —ç—Ç–æ –∞–¥—Ä–µ—Å–∞ –¥–æ–º–æ–≤:

- `/` - –≥–ª–∞–≤–Ω–∞—è —É–ª–∏—Ü–∞
- `/about` - —É–ª–∏—Ü–∞ "–û –Ω–∞—Å"  
- `/users/john` - –¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è John

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã - –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

```python
@app.route('/user/<username>')
def show_user(username):
    return f'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {username}'

# –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
# 1. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç /user/alice
# 2. Flask –≤–∏–¥–∏—Ç —à–∞–±–ª–æ–Ω /user/<username>
# 3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç 'alice' –∏–∑ URL
# 4. –ü–µ—Ä–µ–¥–∞–µ—Ç –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é show_user('alice')
# 5. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: alice'
```

### –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã —Ç–∏–ø–æ–≤ - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ URL:

```python
@app.route('/post/<int:post_id>')
def show_post(post_id):
    # post_id –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±—É–¥–µ—Ç —á–∏—Å–ª–æ–º!
    # –ï—Å–ª–∏ –≤ URL –±—É–¥–µ—Ç /post/abc - –ø–æ–ª—É—á–∏–º 404 –æ—à–∏–±–∫—É
    return f'–ü–æ—Å—Ç #{post_id}'

@app.route('/path/<path:subpath>')
def show_subpath(subpath):
    # path –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å–æ —Å–ª–µ—à–∞–º–∏
    # /path/foo/bar ‚Üí subpath = 'foo/bar'
    return f'–ü—É—Ç—å: {subpath}'
```

### –ú–µ—Ç–æ–¥—ã HTTP –≤ –¥–µ–π—Å—Ç–≤–∏–∏:

```python
from flask import request

@app.route('/login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST':
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
        username = request.form['username']
        password = request.form['password']
        return f'–í—Ö–æ–¥ –¥–ª—è {username}'
    else:
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º HTML —Ñ–æ—Ä–º—É
        return '''
            <form method="post">
                <input type="text" name="username">
                <input type="password" name="password">
                <input type="submit">
            </form>
        '''
```

–ê –ø–æ—á–µ–º—É –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ if/else, –∞ –Ω–µ —Å–æ–∑–¥–∞–µ–º –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏–π endpoint (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞), –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è:
- –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É (GET)
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã (POST)

---

## üìù –ß–∞—Å—Ç—å 4: –®–∞–±–ª–æ–Ω—ã Jinja2 - "–£–º–Ω—ã–π HTML"

### –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞—é—Ç —à–∞–±–ª–æ–Ω—ã:

**–ë–µ–∑ —à–∞–±–ª–æ–Ω–æ–≤** (–ø–ª–æ—Ö–æ–π –ø–æ–¥—Ö–æ–¥):
```python
@app.route('/user')
def show_user():
    user = {'name': 'Alice', 'age': 25}
    html = f"""
    <html>
        <head><title>–ü—Ä–æ—Ñ–∏–ª—å</title></head>
        <body>
            <h1>–ü—Ä–∏–≤–µ—Ç, {user['name']}!</h1>
            <p>–¢–µ–±–µ {user['age']} –ª–µ—Ç</p>
        </body>
    </html>
    """
    return html
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- HTML —Å–º–µ—à–∞–Ω —Å Python
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –õ–µ–≥–∫–æ —Å–¥–µ–ª–∞—Ç—å –æ—à–∏–±–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–° —à–∞–±–ª–æ–Ω–∞–º–∏** (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥):
```python
from flask import render_template

@app.route('/user')
def show_user():
    user = {'name': 'Alice', 'age': 25}
    return render_template('user.html', user=user)
```

```html
<!-- templates/user.html -->
<html>
<head><title>–ü—Ä–æ—Ñ–∏–ª—å</title></head>
<body>
    <h1>–ü—Ä–∏–≤–µ—Ç, {{ user.name }}!</h1>
    <p>–¢–µ–±–µ {{ user.age }} –ª–µ—Ç</p>
</body>
</html>
```

### –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ - –ø—Ä–∏–Ω—Ü–∏–ø DRY (Don't Repeat Yourself)

**–ë–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞):
```html
<!-- page1.html -->
<html><head><title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</title></head>
<body><nav>–ù–∞–≤–∏–≥–∞—Ü–∏—è</nav><h1>–ö–æ–Ω—Ç–µ–Ω—Ç 1</h1></body></html>

<!-- page2.html -->
<html><head><title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ 2</title></head>
<body><nav>–ù–∞–≤–∏–≥–∞—Ü–∏—è</nav><h1>–ö–æ–Ω—Ç–µ–Ω—Ç 2</h1></body></html>
```

**–° –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```html
<!-- base.html -->
<html>
<head><title>{% block title %}–ú–æ–π —Å–∞–π—Ç{% endblock %}</title></head>
<body>
    <nav>–ù–∞–≤–∏–≥–∞—Ü–∏—è</nav>
    <main>{% block content %}{% endblock %}</main>
    <footer>–§—É—Ç–µ—Ä</footer>
</body>
</html>

<!-- page1.html -->
{% extends "base.html" %}

{% block title %}–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1{% endblock %}

{% block content %}
    <h1>–ö–æ–Ω—Ç–µ–Ω—Ç 1</h1>
{% endblock %}
```
–ê —á—Ç–æ –µ—Å–ª–∏ —è —Ö–æ—á—É –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π CSS –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏!
```html
<!-- base.html -->
<head>
    {% block styles %}{% endblock %}
</head>

<!-- page1.html -->
{% block styles %}
    <style>.special { color: red; }</style>
{% endblock %}
```

### –§–∏–ª—å—Ç—Ä—ã Jinja2 - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

```html
<!-- –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
<p>{{ user.bio }}</p>  # –ú–æ–∂–µ—Ç –±—ã—Ç—å None –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞

<!-- –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ -->
<p>{{ user.bio|default('–ë–∏–æ–≥—Ä–∞—Ñ–∏—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞') }}</p>
<p>–¶–µ–Ω–∞: {{ product.price|float|round(2) }}</p>
<p>–î–∞—Ç–∞: {{ post.date|datetimeformat }}</p>
```

**–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:
```html
<!-- –û–ü–ê–°–ù–û –µ—Å–ª–∏ user_content —Å–æ–¥–µ—Ä–∂–∏—Ç JavaScript -->
<p>{{ user_content }}</p>

<!-- –ë–ï–ó–û–ü–ê–°–ù–û - HTML —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç—Å—è -->
<p>{{ user_content }}</p>

<!-- –û–ü–ê–°–ù–û - –æ—Ç–∫–ª—é—á–∞–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ -->
<p>{{ user_content|safe }}</p>
```

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ |safe —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º!**

---

## üìã –ß–∞—Å—Ç—å 5: –§–æ—Ä–º—ã - —Å–±–æ—Ä –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü–æ—á–µ–º—É —Ñ–æ—Ä–º—ã - —ç—Ç–æ —Å–ª–æ–∂–Ω–æ?

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF, XSS
3. **UX** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö  
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –Ω–µ —Ç–µ—Ä—è—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –†—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º (—á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É):

```python
@app.route('/register', methods=['GET', 'POST'])
def register():
    errors = {}
    
    if request.method == 'POST':
        username = request.form.get('username', '')
        email = request.form.get('email', '')
        password = request.form.get('password', '')
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è
        if not username:
            errors['username'] = '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'
        elif len(username) < 3:
            errors['username'] = '–ò–º—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ'
            
        if not email or '@' not in email:
            errors['email'] = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'
            
        # –ò —Ç–∞–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è...
        
        if not errors:
            # –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            return redirect('/success')
    
    # –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É —Å –æ—à–∏–±–∫–∞–º–∏
    return render_template('register.html', errors=errors)
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –ú–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
- –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–µ
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å Flask-WTF:

```python
from flask_wtf import FlaskForm
from wtforms import StringField, PasswordField
from wtforms.validators import DataRequired, Email, Length

class RegistrationForm(FlaskForm):
    username = StringField('–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', validators=[
        DataRequired(message='–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ'),
        Length(min=3, max=25, message='–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 25 —Å–∏–º–≤–æ–ª–æ–≤')
    ])
    
    email = StringField('Email', validators=[
        DataRequired(),
        Email(message='–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email')
    ])
    
    password = PasswordField('–ü–∞—Ä–æ–ª—å', validators=[
        DataRequired(),
        Length(min=6, message='–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤')
    ])
```

**–ß—Ç–æ –¥–∞–µ—Ç Flask-WTF**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- CSRF –∑–∞—â–∏—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏:

```python
@app.route('/register', methods=['GET', 'POST'])
def register():
    form = RegistrationForm()
    
    if form.validate_on_submit():
        # –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é!
        user = User(
            username=form.username.data,
            email=form.email.data
        )
        user.set_password(form.password.data)
        db.session.add(user)
        db.session.commit()
        
        flash('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!', 'success')
        return redirect(url_for('login'))
    
    # –ï—Å–ª–∏ GET –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
    return render_template('register.html', form=form)
```

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç form.validate_on_submit()?

–≠—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–≤—É—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:
1. `request.method == 'POST'` - –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–æ–π
2. `form.validate()` - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é

---

## üíæ –ß–∞—Å—Ç—å 6: –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ ORM

### –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å SQL –Ω–∞–ø—Ä—è–º—É—é?

**–ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã**:
```python
# –£—è–∑–≤–∏–º–æ –∫ SQL-–∏–Ω—ä–µ–∫—Ü–∏—è–º!
query = f"SELECT * FROM users WHERE username = '{username}'"

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –Ω–µ—É–¥–æ–±–Ω–æ
query = "SELECT * FROM users WHERE username = ?"
cursor.execute(query, (username,))
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏
- –†–∞–∑–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤

### ORM (Object-Relational Mapping) –ø–æ–¥—Ö–æ–¥:

```python
# –í–º–µ—Å—Ç–æ SQL —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ Python
user = User.query.filter_by(username=username).first()
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ï–¥–∏–Ω—ã–π API –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- –õ–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è

### –ú–æ–¥–µ–ª–∏ –≤ Flask-SQLAlchemy:

```python
from flask_sqlalchemy import SQLAlchemy
from datetime import datetime

db = SQLAlchemy()

class User(db.Model):
    # –¢–∞–±–ª–∏—Ü–∞ users –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(80), unique=True, nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    
    # –°–≤—è–∑—å –æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º
    posts = db.relationship('Post', backref='author', lazy=True)
    
    def __repr__(self):
        return f'<User {self.username}>'

class Post(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(100), nullable=False)
    content = db.Column(db.Text, nullable=False)
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

**–†–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å**:

- `db.Column` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞
- `db.Integer`, `db.String` - —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- `primary_key=True` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `unique=True` - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `nullable=False` - –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL
- `default=datetime.utcnow` - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏:

**–û–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º** (User ‚Üí Posts):
```python
class User(db.Model):
    posts = db.relationship('Post', backref='author', lazy=True)

class Post(db.Model): 
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'))
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
```python
user = User.query.get(1)
posts = user.posts  # –í—Å–µ –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

post = Post.query.get(1)
author = post.author  # –ê–≤—Ç–æ—Ä –ø–æ—Å—Ç–∞ (User –æ–±—ä–µ–∫—Ç)
```

**–ú–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º** (Students ‚Üê‚Üí Courses):
```python
# –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
registrations = db.Table('registrations',
    db.Column('student_id', db.Integer, db.ForeignKey('student.id')),
    db.Column('course_id', db.Integer, db.ForeignKey('course.id'))
)

class Student(db.Model):
    courses = db.relationship('Course', secondary=registrations, backref='students')

class Course(db.Model):
    pass
```

### –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

**CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**:

**Create** (–°–æ–∑–¥–∞–Ω–∏–µ):
```python
user = User(username='john', email='john@example.com')
db.session.add(user)
db.session.commit()  # –ù–µ –∑–∞–±—ã–≤–∞–µ–º –∫–æ–º–º–∏—Ç–∏—Ç—å!
```

**Read** (–ß—Ç–µ–Ω–∏–µ):
```python
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏
users = User.query.all()

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ ID
user = User.query.get(1)

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
admin = User.query.filter_by(username='admin').first()
johns = User.query.filter(User.username.like('john%')).all()

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
users = User.query.order_by(User.username).all()

# –ü–∞–≥–∏–Ω–∞—Ü–∏—è
page = request.args.get('page', 1, type=int)
users = User.query.paginate(page=page, per_page=10)
```

**Update** (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ):
```python
user = User.query.get(1)
user.email = 'new@example.com'
db.session.commit()
```

**Delete** (–£–¥–∞–ª–µ–Ω–∏–µ):
```python
user = User.query.get(1)
db.session.delete(user)
db.session.commit()
```
–ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å db.session.commit()?

SQLAlchemy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ commit(). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

---

## üîê –ß–∞—Å—Ç—å 7: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –†–∞–∑–ª–∏—á–∏–µ –ø–æ–Ω—è—Ç–∏–π:

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - "–ö—Ç–æ –≤—ã?" (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - "–ß—Ç–æ –≤–∞–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ?" (–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞)

### Flask-Login - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏:

```python
from flask_login import LoginManager, UserMixin, login_user, logout_user

login_manager = LoginManager()
login_manager.login_view = 'login'  # –ö—É–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö

@login_manager.user_loader
def load_user(user_id):
    return User.query.get(int(user_id))

class User(UserMixin, db.Model):
    # UserMixin –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã:
    # is_authenticated, is_active, is_anonymous, get_id
    pass
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç user_loader?**
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç, Flask-Login –ø–æ ID –∏–∑ —Å–µ—Å—Å–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ.

### –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!

**–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û** (–Ω–∏–∫–æ–≥–¥–∞ —Ç–∞–∫ –Ω–µ –¥–µ–ª–∞–π—Ç–µ):
```python
class User(db.Model):
    password = db.Column(db.String(128))  # –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!
```

**–ü–†–ê–í–ò–õ–¨–ù–û**:
```python
from werkzeug.security import generate_password_hash, check_password_hash

class User(db.Model):
    password_hash = db.Column(db.String(128))
    
    def set_password(self, password):
        self.password_hash = generate_password_hash(password)
    
    def check_password(self, password):
        return check_password_hash(self.password_hash, password)
```

**–ü–æ—á–µ–º—É —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω–æ?**
- –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∫—Ä–∞–¥–µ–Ω–∞, –ø–∞—Ä–æ–ª–∏ –Ω–µ–ª—å–∑—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- –•–µ—à –Ω–µ–ª—å–∑—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–∞—Ä–æ–ª—å
- –ú–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–∞:

```python
@app.route('/register', methods=['GET', 'POST'])
def register():
    if current_user.is_authenticated:
        return redirect(url_for('index'))
    
    form = RegistrationForm()
    if form.validate_on_submit():
        user = User(username=form.username.data, email=form.email.data)
        user.set_password(form.password.data)
        
        db.session.add(user)
        db.session.commit()
        
        flash('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!', 'success')
        return redirect(url_for('login'))
    
    return render_template('register.html', form=form)

@app.route('/login', methods=['GET', 'POST'])
def login():
    if current_user.is_authenticated:
        return redirect(url_for('index'))
    
    form = LoginForm()
    if form.validate_on_submit():
        user = User.query.filter_by(email=form.email.data).first()
        
        if user and user.check_password(form.password.data):
            login_user(user, remember=form.remember.data)
            
            # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            next_page = request.args.get('next')
            return redirect(next_page) if next_page else redirect(url_for('index'))
        else:
            flash('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'danger')
    
    return render_template('login.html', form=form)

@app.route('/logout')
def logout():
    logout_user()
    return redirect(url_for('index'))
```

### –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤:

```python
from flask_login import login_required

@app.route('/dashboard')
@login_required  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
def dashboard():
    return render_template('dashboard.html')

# –ö–∞—Å—Ç–æ–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
def admin_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if not current_user.is_admin:
            abort(403)  # Forbidden
        return f(*args, **kwargs)
    return decorated_function

@app.route('/admin')
@login_required
@admin_required  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
def admin_panel():
    return render_template('admin.html')
```

---

## üîå –ß–∞—Å—Ç—å 8: REST API

### –ß—Ç–æ —Ç–∞–∫–æ–µ REST API?

**REST (Representational State Transfer)** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤.

**–ü—Ä–∏–Ω—Ü–∏–ø—ã REST**:
- Stateless (–±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- URL –∫–∞–∫ —Ä–µ—Å—É—Ä—Å—ã (/users, /posts)
- HTTP –º–µ—Ç–æ–¥—ã –∫–∞–∫ –¥–µ–π—Å—Ç–≤–∏—è (GET, POST, PUT, DELETE)
- JSON –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ—Å—Ç–æ–µ API –Ω–∞ —á–∏—Å—Ç–æ–º Flask:

```python
from flask import jsonify, request

@app.route('/api/users', methods=['GET'])
def get_users():
    users = User.query.all()
    return jsonify([user.to_dict() for user in users])

@app.route('/api/users/<int:user_id>', methods=['GET'])
def get_user(user_id):
    user = User.query.get_or_404(user_id)
    return jsonify(user.to_dict())

@app.route('/api/users', methods=['POST'])
def create_user():
    data = request.get_json()
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è
    if not data or not 'username' in data:
        return jsonify({'error': 'Username required'}), 400
    
    user = User(username=data['username'], email=data.get('email', ''))
    db.session.add(user)
    db.session.commit()
    
    return jsonify(user.to_dict()), 201  # 201 Created

# –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ to_dict –≤ –º–æ–¥–µ–ª—å
class User(db.Model):
    def to_dict(self):
        return {
            'id': self.id,
            'username': self.username,
            'email': self.email
        }
```

### –ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP –¥–ª—è API:

- **200 OK** - —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- **201 Created** - —Ä–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω
- **400 Bad Request** - –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **401 Unauthorized** - –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- **403 Forbidden** - –Ω–µ—Ç –ø—Ä–∞–≤
- **404 Not Found** - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- **500 Internal Server Error** - –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üèóÔ∏è –ß–∞—Å—Ç—å 9: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–æ—á–µ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–∂–Ω–∞?

**–ü–ª–æ—Ö–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (–≤—Å–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ):
```
app.py  # 1000+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞!
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–¥
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ
- –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

### –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
myapp/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py          # –§–∞–±—Ä–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # –ú–∞—Ä—à—Ä—É—Ç—ã (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –ì–ª–∞–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.py           # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ templates/           # –®–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ register.html
‚îÇ   ‚îú‚îÄ‚îÄ static/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ utils/               # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ helpers.py
‚îú‚îÄ‚îÄ migrations/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py
‚îÇ   ‚îú‚îÄ‚îÄ test_routes.py
‚îÇ   ‚îî‚îÄ‚îÄ conftest.py
‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ run.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

### –§–∞–±—Ä–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π - –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

```python
# app/__init__.py
from flask import Flask
from config import Config

def create_app(config_class=Config):
    app = Flask(__name__)
    app.config.from_object(config_class)
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
    db.init_app(app)
    login_manager.init_app(app)
    
    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è blueprint'–æ–≤
    from app.routes.main import bp as main_bp
    app.register_blueprint(main_bp)
    
    from app.routes.auth import bp as auth_bp
    app.register_blueprint(auth_bp, url_prefix='/auth')
    
    return app
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ–∞–±—Ä–∏–∫–∏**:
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –†–∞–∑–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Blueprints - –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:

```python
# app/routes/auth.py
from flask import Blueprint, render_template, redirect, url_for, flash

bp = Blueprint('auth', __name__)

@bp.route('/login', methods=['GET', 'POST'])
def login():
    # –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
    return render_template('auth/login.html')

@bp.route('/register', methods=['GET', 'POST'])
def register():
    # –õ–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    return render_template('auth/register.html')
```

**–ü–æ—á–µ–º—É Blueprints?**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–µ—Ñ–∏–∫—Å—ã URL (/auth/login, /auth/register)
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

---

## üõ°Ô∏è –ß–∞—Å—Ç—å 10: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ —É–≥—Ä–æ–∑—ã –∏ –∑–∞—â–∏—Ç–∞:

#### 1. SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏
**–£–≥—Ä–æ–∑–∞**: 
```sql
-- –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –≤–≤–æ–¥–∏—Ç –≤ —Ñ–æ—Ä–º—É: ' OR '1'='1
SELECT * FROM users WHERE username = '' OR '1'='1'
```

**–ó–∞—â–∏—Ç–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ORM!
```python
# –ë–ï–ó–û–ü–ê–°–ù–û - SQLAlchemy —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
user = User.query.filter_by(username=username).first()
```

#### 2. XSS (Cross-Site Scripting)
**–£–≥—Ä–æ–∑–∞**: 
```html
<!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: -->
<script>alert('XSS')</script>
```

**–ó–∞—â–∏—Ç–∞** - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö:
```html
<!-- –ë–ï–ó–û–ü–ê–°–ù–û - Jinja2 —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
<p>{{ user_comment }}</p>  <!-- &lt;script&gt;alert('XSS')&lt;/script&gt; -->
```

#### 3. CSRF (Cross-Site Request Forgery)
**–£–≥—Ä–æ–∑–∞**: –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ –µ–≥–æ –≤–µ–¥–æ–º–∞.

**–ó–∞—â–∏—Ç–∞** - CSRF —Ç–æ–∫–µ–Ω—ã:
```html
<form method="post">
    {{ form.hidden_tag() }}  <!-- CSRF —Ç–æ–∫–µ–Ω -->
    <!-- –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è -->
</form>
```

#### 4. –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
**–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û**:
```python
user.password = password  # –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
```

**–ü–†–ê–í–ò–õ–¨–ù–û**:
```python
from werkzeug.security import generate_password_hash, check_password_hash

user.set_password(password)  # –ü–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è
user.check_password(password)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–∞
```

---

## üß™ –ß–∞—Å—Ç—å 11: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞—á–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?

- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—è —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–ª–æ–º–∞–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

### –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π:

```python
import unittest
from app import create_app, db
from app.models import User

class UserModelCase(unittest.TestCase):
    def setUp(self):
        # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        self.app = create_app(TestConfig)
        self.app_context = self.app.app_context()
        self.app_context.push()
        db.create_all()
    
    def tearDown(self):
        db.session.remove()
        db.drop_all()
        self.app_context.pop()
    
    def test_password_hashing(self):
        u = User(username='susan')
        u.set_password('cat')
        self.assertFalse(u.check_password('dog'))
        self.assertTrue(u.check_password('cat'))
    
    def test_user_creation(self):
        u = User(username='john', email='john@example.com')
        db.session.add(u)
        db.session.commit()
        self.assertEqual(User.query.count(), 1)
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API:

```python
class APITestCase(unittest.TestCase):
    def setUp(self):
        self.app = create_app(TestConfig)
        self.client = self.app.test_client()
        db.create_all()
    
    def test_get_users(self):
        response = self.client.get('/api/users')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.content_type, 'application/json')
    
    def test_create_user(self):
        data = {
            'username': 'testuser',
            'email': 'test@example.com'
        }
        response = self.client.post('/api/users', 
                                  json=data,
                                  content_type='application/json')
        self.assertEqual(response.status_code, 201)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
        user = User.query.filter_by(username='testuser').first()
        self.assertIsNotNone(user)
```

---

## üöÄ –ß–∞—Å—Ç—å 12: –î–µ–ø–ª–æ–π–º–µ–Ω—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

### –û—Ç–ª–∞–¥–∫–∞ vs –ü—Ä–æ–¥–∞–∫—à–µ–Ω:

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (debug=True):
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
- –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω** (debug=False):
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```python
class ProductionConfig(Config):
    DEBUG = False
    TESTING = False
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    SECRET_KEY = os.environ.get('SECRET_KEY')
    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL')
    
    # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies
    SESSION_COOKIE_SECURE = True
    REMEMBER_COOKIE_SECURE = True
```

### WSGI —Å–µ—Ä–≤–µ—Ä (Gunicorn):

**–ü–æ—á–µ–º—É –Ω–µ app.run()?**
- –û–¥–∏–Ω –ø–æ—Ç–æ–∫ - –º–µ–¥–ª–µ–Ω–Ω–æ
- –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- –ù–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

**Gunicorn**:
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 wsgi:app
```

### –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (Nginx):

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /static {
        alias /path/to/your/app/static;
        expires 30d;  # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    }
}
```

### –î–µ–ø–ª–æ–π —Å Docker:

```dockerfile
FROM python:3.9-slim

WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Ö
COPY requirements.txt .
RUN pip install -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV FLASK_APP=wsgi:app
ENV FLASK_ENV=production

EXPOSE 5000

# –ó–∞–ø—É—Å–∫–∞–µ–º Gunicorn
CMD ["gunicorn", "--bind", "0.0.0.0:5000", "wsgi:app"]
```

---

## üí° –ó–∞–∫–ª—é—á–µ–Ω–∏–µ: –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ß—Ç–æ –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –∫–∞–∂–¥—ã–π —Å—Ç—É–¥–µ–Ω—Ç:

1. **HTTP** - –æ—Å–Ω–æ–≤–∞ –≤–µ–±–∞, –ø–æ–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã, –º–µ—Ç–æ–¥—ã, –∫–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. **MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –ª–æ–≥–∏–∫–∏ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è  
3. **–®–∞–±–ª–æ–Ω—ã** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Python –∏ HTML, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
4. **–§–æ—Ä–º—ã** - –≤–∞–ª–∏–¥–∞—Ü–∏—è, CSRF –∑–∞—â–∏—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
5. **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - ORM, –º–∏–≥—Ä–∞—Ü–∏–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
6. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - —Å–µ—Å—Å–∏–∏, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏, XSS, CSRF
8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
9. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
10. **–î–µ–ø–ª–æ–π–º–µ–Ω—Ç** - –æ—Ç–ª–∏—á–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤:

1. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** - PHP-—Å—Ç–∏–ª—å –≤ —à–∞–±–ª–æ–Ω–∞—Ö
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** - –¥–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –≤–≤–æ–¥—É
3. **–ü–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ** - –≤—Å–µ–≥–¥–∞ —Ö–µ—à–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏!
4. **Debug mode –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** - –æ–≥—Ä–æ–º–Ω–∞—è –¥—ã—Ä–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **–û–¥–∏–Ω –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª** - —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å
6. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
7. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤** - "—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ª–∞–¥–Ω–æ"

### –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ:

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - Flask 2.0 —Å async/await
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
- **–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á** - Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, –∞–ª–µ—Ä—Ç—ã
- **CI/CD** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞
